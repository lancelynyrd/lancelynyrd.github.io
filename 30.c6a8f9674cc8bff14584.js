(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{qNbh:function(n,l,t){"use strict";t.r(l);var o=t("CcnG"),e=function(){return function(){}}(),i=t("tnmA"),u=t("dDrH"),s=t("pMnS"),p=t("oBZk"),a=t("ZZ/e"),r=t("Xqnl"),c=t("2MiI"),b=t("OaWH"),h=t("gUVx"),m=t("P8t4"),f=t("ZYCi"),d=t("YYJB"),g=t("7lBf"),x=t("InIh"),P=t("Ai5B"),I=t("eBCJ"),y=t("Ip0R"),L=t("YqA2"),O=t("Xh/C"),k=t("uheI"),w=t("G6cl"),_=t("Hm0F"),v=t("EG5k"),C=t("EWxR"),$=t("8Po1"),F=(t("XVuv"),function(){function n(n,l){this.pc=n,this.philgo=l,this.noOfLoadingPosts=3,this.showDislike=!1,this.error=new o.m,this.intval=0,this.page_no=0,this.limit=10,this.loaded=!1,this.no_more_post=!1,this.posts=[]}return n.prototype.ngOnInit=function(){},n.prototype.doInit=function(n){this.template===n.template&&this.post_id===n.post_id&&this.category===n.category||(this.template=n.template,this.post_id=n.post_id,this.category=n.category,this.page_no=0,this.posts=[],this.loaded=!1,this.no_more_post=!1,this.loadPage())},n.prototype.refreshPage=function(n){this.fetchPosts({post_id:this.post_id,category:this.category,page_no:1,limit:this.limit},n)},n.prototype.loadPage=function(n){this.no_more_post||(this.page_no++,this.fetchPosts({post_id:this.post_id,category:this.category,page_no:this.page_no,limit:this.limit},n))},n.prototype.fetchPosts=function(n,l){var t=this;this.philgo.postSearch(n).subscribe(function(n){(!n.posts.length||n.posts.length<t.limit)&&(t.no_more_post=!0),l&&"ionRefresh"===l.type&&(n.posts=n.posts.reverse()),n.posts.forEach(function(n){t.pre(n),l?("ionRefresh"===l.type?-1===t.posts.findIndex(function(l){return l.idx===n.idx})&&t.posts.unshift(n):t.posts.push(n),l.target.complete(),l.target.disable=!0):t.posts.push(n)}),t.loaded=!0},function(n){t.loaded=!0,t.error.emit(n),t.pc.error(n)})},n.prototype.pre=function(n){return n.content=this.pc.hookImg(n.content),n.commentInUpdate=null,n.replyTo=n.idx,n.safe_content=this.pc.safeHtml(n.content),this.callbackPost&&this.callbackPost(n,this.extra),"gallery"===this.template&&(n.show=!0,n.showComment=!!n.comments),n},n}()),J=o.nb({encapsulation:0,styles:[[".pb-3[_ngcontent-%COMP%]{padding-bottom:1.5em}.no-more-post[_ngcontent-%COMP%]{margin:3em 0;text-align:center;font-weight:lighter;color:grey}.post-reply-box[_ngcontent-%COMP%]{margin:0 .75em 1em!important}"]],data:{}});function j(n){return o.Jb(0,[(n()(),o.pb(0,0,null,null,1,"app-philgo-buttons",[],null,null,null,h.b,h.a)),o.ob(1,114688,null,0,m.a,[f.m,d.a,g.a,x.a],{root:[0,"root"],postOrComment:[1,"postOrComment"],showDislike:[2,"showDislike"]},null)],function(n,l){n(l,1,0,l.parent.parent.context.$implicit,l.parent.parent.context.$implicit,l.component.showDislike)},null)}function R(n){return o.Jb(0,[(n()(),o.pb(0,0,null,null,1,"app-comment-list",[],null,null,null,P.b,P.a)),o.ob(1,114688,null,0,I.a,[g.a,x.a],{post:[0,"post"],comments:[1,"comments"],showDislike:[2,"showDislike"]},null)],function(n,l){n(l,1,0,l.parent.parent.parent.context.$implicit,l.parent.parent.parent.context.$implicit.comments,l.component.showDislike)},null)}function U(n){return o.Jb(0,[(n()(),o.pb(0,0,null,null,2,"div",[["class","pb-3"]],null,null,null,null,null)),(n()(),o.gb(16777216,null,null,1,null,R)),o.ob(2,16384,null,0,y.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,2,0,l.parent.parent.context.$implicit.comments&&l.parent.parent.context.$implicit.comments.length)},null)}function E(n){return o.Jb(0,[(n()(),o.pb(0,0,null,null,2,"div",[["class","post-reply-box"]],null,null,null,null,null)),(n()(),o.pb(1,0,null,null,1,"app-comment-box",[],null,null,null,L.b,L.a)),o.ob(2,114688,null,0,O.a,[x.a,g.a],{root:[0,"root"],parent:[1,"parent"]},null)],function(n,l){n(l,2,0,l.parent.parent.context.$implicit,l.parent.parent.context.$implicit)},null)}function q(n){return o.Jb(0,[(n()(),o.pb(0,0,null,null,8,null,null,null,null,null,null,null)),(n()(),o.pb(1,0,null,null,1,"app-post-content",[],null,null,null,k.b,k.a)),o.ob(2,114688,null,0,w.a,[g.a],{post:[0,"post"]},null),(n()(),o.gb(16777216,null,null,1,null,j)),o.ob(4,16384,null,0,y.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,null,1,null,U)),o.ob(6,16384,null,0,y.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,null,1,null,E)),o.ob(8,16384,null,0,y.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(0,null,null,0))],function(n,l){var t=l.component;n(l,2,0,l.parent.context.$implicit),n(l,4,0,(t.philgo.isLoggedIn()||l.parent.context.$implicit.viewUrl&&t.pc.isWeb)&&("0"===l.parent.context.$implicit.deleted||l.parent.context.$implicit.comments)),n(l,6,0,l.parent.context.$implicit.showComment),n(l,8,0,(!l.parent.context.$implicit.replyTo||l.parent.context.$implicit.replyTo===l.parent.context.$implicit.idx)&&!l.parent.context.$implicit.commentInUpdate&&t.philgo.isLoggedIn()&&"0"===l.parent.context.$implicit.deleted)},null)}function D(n){return o.Jb(0,[(n()(),o.pb(0,0,null,null,5,"ion-card",[["data-role","post"]],null,null,null,p.Z,p.g)),o.ob(1,49152,null,0,a.l,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,1,"app-post-header",[],null,null,null,_.b,_.a)),o.ob(3,114688,null,0,v.a,[g.a,x.a],{post:[0,"post"]},null),(n()(),o.gb(16777216,null,0,1,null,q)),o.ob(5,16384,null,0,y.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,3,0,l.context.$implicit),n(l,5,0,l.context.$implicit.show)},null)}function S(n){return o.Jb(0,[(n()(),o.pb(0,0,null,null,1,"div",[["class","no-more-post"]],null,null,null,null,null)),(n()(),o.Hb(1,null,[" "," "]))],null,function(n,l){n(l,1,0,l.component.pc.t("noMorePosts"))})}function M(n){return o.Jb(0,[(n()(),o.pb(0,0,null,null,3,"ion-infinite-scroll",[["threshold"," 300px "]],null,[[null,"ionInfinite"]],function(n,l,t){var o=!0;return"ionInfinite"===l&&(o=!1!==n.component.loadPage(t)&&o),o},p.fb,p.p)),o.ob(1,49152,[[1,4]],0,a.D,[o.h,o.k],{threshold:[0,"threshold"]},null),(n()(),o.pb(2,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","crescent"]],null,null,null,p.eb,p.q)),o.ob(3,49152,null,0,a.E,[o.h,o.k],{loadingSpinner:[0,"loadingSpinner"]},null)],function(n,l){n(l,1,0," 300px "),n(l,3,0,"crescent")},null)}function B(n){return o.Jb(0,[(n()(),o.pb(0,0,null,null,6,null,null,null,null,null,null,null)),(n()(),o.gb(16777216,null,null,1,null,D)),o.ob(2,278528,null,0,y.i,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null),(n()(),o.gb(16777216,null,null,1,null,S)),o.ob(4,16384,null,0,y.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,null,1,null,M)),o.ob(6,16384,null,0,y.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(0,null,null,0))],function(n,l){var t=l.component;n(l,2,0,t.posts),n(l,4,0,t.no_more_post),n(l,6,0,!t.no_more_post)},null)}function T(n){return o.Jb(0,[(n()(),o.pb(0,0,null,null,1,"app-post-skeleton",[],null,null,null,C.b,C.a)),o.ob(1,114688,null,0,$.a,[],{noOfLoadingPosts:[0,"noOfLoadingPosts"]},null)],function(n,l){n(l,1,0,l.component.noOfLoadingPosts)},null)}function X(n){return o.Jb(0,[o.Fb(671088640,1,{infiniteScroll:0}),(n()(),o.gb(16777216,null,null,1,null,B)),o.ob(2,16384,null,0,y.j,[o.O,o.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),o.gb(0,[["skeleton",2]],null,0,null,T))],function(n,l){n(l,2,0,l.component.loaded,o.zb(l,3))},null)}var Z=function(){function n(n,l){this.activatedRoute=n,this.a=l,this.title="Post List",this.id="",this.category="",this.template=""}return n.prototype.ngOnInit=function(){var n=this;this.activatedRoute.paramMap.subscribe(function(l){n.id=l.get("id"),n.category="",n.template="gallery",n.postListComponent.doInit({post_id:n.id,category:n.category,template:n.template})})},n.prototype.ionViewDidEnter=function(){if(this.a.newOrUpdatedPostForListPage){var n=this.postListComponent.pre(this.a.newOrUpdatedPostForListPage);if("update"===this.a.newOrUpdatedPostForListPage.action){var l=this.postListComponent.posts.findIndex(function(l){return l.idx===n.idx});-1!==l&&Object.assign(this.postListComponent.posts[l],n)}"create"===this.a.newOrUpdatedPostForListPage.action&&(this.postListComponent.posts.unshift(this.a.newOrUpdatedPostForListPage),this.content.scrollToTop()),this.a.newOrUpdatedPostForListPage=void 0}},n.prototype.refreshPage=function(n){this.postListComponent.refreshPage(n)},n.prototype.callbackPost=function(n,l){n.editUrl="post/update/"+n.idx,n.viewUrl="post/view/"+n.idx},n}(),H=o.nb({encapsulation:0,styles:[[""]],data:{}});function Y(n){return o.Jb(0,[o.Fb(402653184,1,{content:0}),o.Fb(402653184,2,{postListComponent:0}),(n()(),o.pb(2,0,null,null,3,"ion-header",[],null,null,null,p.bb,p.m)),o.ob(3,49152,null,0,a.A,[o.h,o.k],null,null),(n()(),o.pb(4,0,null,0,1,"app-header",[],null,null,null,r.b,r.a)),o.ob(5,114688,null,0,c.a,[b.a],{title:[0,"title"],id:[1,"id"]},null),(n()(),o.pb(6,0,null,null,9,"ion-content",[],null,null,null,p.ab,p.l)),o.ob(7,49152,[[1,4]],0,a.t,[o.h,o.k],null,null),(n()(),o.pb(8,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],function(n,l,t){var o=!0;return"ionRefresh"===l&&(o=!1!==n.component.refreshPage(t)&&o),o},p.rb,p.B)),o.ob(9,49152,null,0,a.bb,[o.h,o.k],null,null),(n()(),o.pb(10,0,null,0,1,"ion-refresher-content",[],null,null,null,p.qb,p.C)),o.ob(11,49152,null,0,a.cb,[o.h,o.k],null,null),(n()(),o.pb(12,0,null,0,3,"div",[["class","wide-max-width"]],null,null,null,null,null)),(n()(),o.pb(13,0,null,null,2,"app-philgo-post-list",[],null,null,null,X,J)),o.ob(14,114688,[[2,4]],0,F,[g.a,x.a],{noOfLoadingPosts:[0,"noOfLoadingPosts"],callbackPost:[1,"callbackPost"],extra:[2,"extra"]},null),o.Cb(15,{id:0})],function(n,l){var t=l.component;n(l,5,0,t.a.t(t.id),t.id);var o=t.callbackPost,e=n(l,15,0,t.id);n(l,14,0,6,o,e)},null)}function K(n){return o.Jb(0,[(n()(),o.pb(0,0,null,null,1,"app-list",[],null,null,null,Y,H)),o.ob(1,114688,null,0,Z,[f.a,b.a],null,null)],function(n,l){n(l,1,0)},null)}var N=o.lb("app-list",Z,K,{},{},[]),A=t("gIcY"),Q=t("t/Na"),W=t("7bHZ"),G=t("ZYjt"),V=t("lLEl"),z=t("Q7sa"),nn=t("kL+j"),ln=t("dEXi"),tn=t("WinS");t.d(l,"ListPageModuleNgFactory",function(){return on});var on=o.mb(e,[],function(n){return o.wb([o.xb(512,o.j,o.bb,[[8,[i.a,u.a,s.a,N]],[3,o.j],o.x]),o.xb(4608,y.l,y.k,[o.u,[2,y.t]]),o.xb(4608,A.m,A.m,[]),o.xb(4608,a.b,a.b,[o.z,o.g]),o.xb(4608,a.Fb,a.Fb,[a.b,o.j,o.q,y.c]),o.xb(4608,a.Kb,a.Kb,[a.b,o.j,o.q,y.c]),o.xb(5120,o.d,function(n,l,t,o){return[a.Rb(n,l),a.Rb(t,o)]},[a.Qb,y.c,a.Qb,y.c]),o.xb(4608,Q.m,Q.s,[y.c,o.B,Q.q]),o.xb(4608,Q.t,Q.t,[Q.m,Q.r]),o.xb(5120,Q.a,function(n){return[n]},[Q.t]),o.xb(4608,Q.p,Q.p,[]),o.xb(6144,Q.n,null,[Q.p]),o.xb(4608,Q.l,Q.l,[Q.n]),o.xb(6144,Q.b,null,[Q.l]),o.xb(4608,Q.g,Q.o,[Q.b,o.q]),o.xb(4608,Q.c,Q.c,[Q.g]),o.xb(4608,W.a,W.a,[a.Fb]),o.xb(4608,g.a,g.a,[G.b,a.Pb,x.a,W.a]),o.xb(4608,d.a,d.a,[a.Kb]),o.xb(1073742336,y.b,y.b,[]),o.xb(1073742336,A.k,A.k,[]),o.xb(1073742336,A.b,A.b,[]),o.xb(1073742336,a.Cb,a.Cb,[]),o.xb(1073742336,V.a,V.a,[]),o.xb(1073742336,z.a,z.a,[]),o.xb(1073742336,Q.e,Q.e,[]),o.xb(1073742336,Q.d,Q.d,[]),o.xb(1073742336,nn.a,nn.a,[]),o.xb(1073742336,ln.a,ln.a,[]),o.xb(1073742336,f.o,f.o,[[2,f.u],[2,f.m]]),o.xb(1073742336,tn.a,tn.a,[b.a]),o.xb(1073742336,e,e,[]),o.xb(256,a.Qb,void 0,[]),o.xb(256,Q.q,"XSRF-TOKEN",[]),o.xb(256,Q.r,"X-XSRF-TOKEN",[]),o.xb(1024,f.k,function(){return[[{path:"",component:Z}]]},[])])})}}]);