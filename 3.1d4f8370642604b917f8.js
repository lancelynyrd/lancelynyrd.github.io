(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"2MiI":function(n,l,e){"use strict";e.d(l,"a",function(){return t}),e("OaWH");var t=function(){function n(n){this.a=n,this.showLogo=!1,this.title="...",this.id=""}return n.prototype.ngOnInit=function(){},n.prototype.onClickCreatePost=function(){this.a.router.navigateByUrl("/post/create/"+this.id)},n}()},"8cXe":function(n,l,e){"use strict";e.d(l,"a",function(){return u});var t=e("mrSG"),o=(e("Pn9U"),e("ZZ/e"),e("7lBf"),e("K9Ia")),u=(e("InIh"),e("gRf5"),function(){function n(n,l,e,t,u,i){this.ngZone=n,this.camera=l,this.transfer=e,this.alertController=t,this.pc=u,this.philgo=i,this.gid="",this.module_name="post",this.code="",this.finish="0",this.displayFiles=!0,this.displayUploadButton=!0,this.displayProgressBar=!0,this.uploaded=new o.a,this.error=new o.a,this.uploadPercentage=0}return n.prototype.ngOnInit=function(){},n.prototype.chooseSource=function(){return t.b(this,void 0,void 0,function(){var n,l;return t.e(this,function(e){switch(e.label){case 0:return[4,this.alertController.create({header:this.pc.t("cameraAlertChooseSourceHeader"),message:this.pc.t("cameraAlertChooseSourceMessage"),buttons:[{text:this.pc.t("cameraAlertChooseSourceGallery"),role:"gallery",handler:function(){}},{text:this.pc.t("cameraAlertChooseSourceCamera"),role:"camera",handler:function(){}},{text:this.pc.t("cancel"),role:"cancel",cssClass:"secondary",handler:function(n){}}]})];case 1:return(n=e.sent()).present(),[4,n.onDidDismiss()];case 2:return"camera"===(l=e.sent()).role?[2,this.camera.PictureSourceType.CAMERA]:"gallery"===l.role?[2,this.camera.PictureSourceType.PHOTOLIBRARY]:[2,-1]}})})},n.prototype.cordovaUpload=function(n){return t.b(this,void 0,void 0,function(){var n,l;return t.e(this,function(e){switch(e.label){case 0:return this.philgo.isLoggedOut()?(this.pc.error(this.pc.t("loginFirst")),[2]):this.pc.isWeb?[2]:[4,this.chooseSource()];case 1:return-1===(n=e.sent())?[2]:[4,this.camera.getPicture({quality:100,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,sourceType:n}).catch(function(n){return alert(n),null})];case 2:return(l=e.sent())?(this.fileTransfer(l),[2]):[2]}})})},n.prototype.webUpload=function(n){this.philgo.isLoggedOut()?this.pc.error(this.pc.t("loginFirst")):this.uploadFileToBackend(n.target.files)},n.prototype.uploadFileToBackend=function(n){var l=this;void 0!==n&&n.length&&void 0!==n[0]?this.philgo.fileUpload(n,{gid:this.gid,module_name:this.module_name,code:this.code,finish:this.finish}).subscribe(function(n){"number"==typeof n?l.uploadPercentage=n:l.uploadSuccess(n)},function(n){console.error("PHP ERROR: ",n),l.error.next(n),l.uploadPercentage=0,l.pc.error(n)}):this.pc.t("choosePhoto")},n.prototype.uploadSuccess=function(n){var l=this;this.files.push(n),this.uploadPercentage=100,this.uploaded.next(n),setTimeout(function(){return l.uploadPercentage=0},1e3)},n.prototype.fileTransfer=function(n){return t.b(this,void 0,void 0,function(){var l,e,o=this;return t.e(this,function(t){return l=this.transfer.create(),e={fileKey:"file",fileName:n.substr(n.lastIndexOf("/")+1),mimeType:"image/jpeg",params:{method:"file.upload",gid:this.gid,code:this.code,module_name:this.module_name,finish:this.finish,idx_member:this.philgo.myIdx(),session_id:this.philgo.mySessionId()}},l.onProgress(function(n){n.lengthComputable&&(o.uploadPercentage=Math.round(n.loaded/n.total*100),o.ngZone.run(function(){}))}),l.upload(n,this.philgo.getFileServerUrl(),e).then(function(n){var l=JSON.parse(n.response);0===l.code&&l.data&&l.data.idx?o.uploadSuccess(l.data):o.pc.error(o.pc.t("failedToUpload"))},function(n){o.uploadPercentage=0,o.pc.error(n)}),[2]})})},n.prototype.onClickDelete=function(n){return t.b(this,void 0,void 0,function(){var l,e=this;return t.e(this,function(t){switch(t.label){case 0:return[4,this.alertController.create({header:this.pc.t("deleteAlertHeader"),message:this.pc.t("deleteAlertMessage"),buttons:[{text:this.pc.t("yes"),role:"yes",handler:function(){}},{text:this.pc.t("no"),role:"no",handler:function(){}}]})];case 1:return(l=t.sent()).present(),[4,l.onDidDismiss()];case 2:return"no"===t.sent().role?[2]:(this.philgo.deleteFile(n.idx).subscribe(function(n){console.log("file deleted: ",n);var l=n.idx,t=e.files.findIndex(function(n){return n.idx===l});-1!==t&&e.files.splice(t,1)},function(n){return e.pc.error(n)}),[2])}})})},n}())},WinS:function(n,l,e){"use strict";e.d(l,"a",function(){return t}),e("OaWH");var t=function(){return function(n){this.a=n}}()},Xqnl:function(n,l,e){"use strict";var t=e("CcnG"),o=e("oBZk"),u=e("ZZ/e"),i=e("Ip0R");e("2MiI"),e("OaWH"),e.d(l,"a",function(){return r}),e.d(l,"b",function(){return h});var r=t.nb({encapsulation:0,styles:[[""]],data:{}});function c(n){return t.Jb(0,[(n()(),t.pb(0,0,null,null,2,"ion-button",[],null,null,null,o.T,o.e)),t.ob(1,49152,null,0,u.j,[t.h,t.k],null,null),(n()(),t.pb(2,0,null,0,0,"img",[["class","size-24px"]],[[8,"src",4]],null,null,null,null))],null,function(n,l){n(l,2,0,t.rb(1,"/assets/apps/",l.component.a.domain,"/img/logo/logo.png"))})}function a(n){return t.Jb(0,[(n()(),t.pb(0,0,null,null,6,"ion-button",[["data-role","header-post-create-button"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onClickCreatePost()&&t),t},o.T,o.e)),t.ob(1,49152,null,0,u.j,[t.h,t.k],null,null),(n()(),t.pb(2,0,null,0,1,"ion-icon",[["name","add-circle-outline"],["slot","start"]],null,null,null,o.cb,o.n)),t.ob(3,49152,null,0,u.B,[t.h,t.k],{name:[0,"name"]},null),(n()(),t.pb(4,0,null,0,2,"ion-text",[],null,null,null,o.zb,o.K)),t.ob(5,49152,null,0,u.vb,[t.h,t.k],null,null),(n()(),t.Hb(-1,0,["\uae00\ub4f1\ub85d"]))],function(n,l){n(l,3,0,"add-circle-outline")},null)}function s(n){return t.Jb(0,[(n()(),t.pb(0,0,null,null,2,"ion-button",[["data-role","header-profile-button"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.a.openProfilePage()&&t),t},o.T,o.e)),t.ob(1,49152,null,0,u.j,[t.h,t.k],null,null),(n()(),t.pb(2,0,null,0,0,"img",[["class","s-36px circle border-medium-white"]],[[8,"src",4]],null,null,null,null))],null,function(n,l){n(l,2,0,t.rb(1,"",l.component.a.profilePhotoUrl,""))})}function p(n){return t.Jb(0,[(n()(),t.pb(0,0,null,null,3,"ion-button",[["data-role","sidemenu-open-button"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.a.openSidemenu()&&t),t},o.T,o.e)),t.ob(1,49152,null,0,u.j,[t.h,t.k],null,null),(n()(),t.pb(2,0,null,0,1,"ion-icon",[["name","menu"],["slot","icon-only"]],null,null,null,o.cb,o.n)),t.ob(3,49152,null,0,u.B,[t.h,t.k],{name:[0,"name"]},null)],function(n,l){n(l,3,0,"menu")},null)}function d(n){return t.Jb(0,[(n()(),t.pb(0,0,null,null,2,"ion-button",[["data-role","header-login-button"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.a.openLoginPage()&&t),t},o.T,o.e)),t.ob(1,49152,null,0,u.j,[t.h,t.k],null,null),(n()(),t.Hb(-1,0,[" \ub85c\uadf8\uc778 "]))],null,null)}function f(n){return t.Jb(0,[(n()(),t.pb(0,0,null,null,2,"ion-button",[["data-role","header-register-button"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.a.openRegisterPage()&&t),t},o.T,o.e)),t.ob(1,49152,null,0,u.j,[t.h,t.k],null,null),(n()(),t.Hb(-1,0,[" \ud68c\uc6d0\uac00\uc785 "]))],null,null)}function h(n){return t.Jb(0,[(n()(),t.pb(0,0,null,null,23,"ion-toolbar",[],null,null,null,o.Db,o.O)),t.ob(1,49152,null,0,u.Ab,[t.h,t.k],{color:[0,"color"]},null),(n()(),t.pb(2,0,null,0,6,"ion-buttons",[["slot","start"]],null,null,null,o.U,o.f)),t.ob(3,49152,null,0,u.k,[t.h,t.k],null,null),(n()(),t.pb(4,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==t.zb(n,6).onClick(e)&&o),o},o.R,o.c)),t.ob(5,49152,null,0,u.f,[t.h,t.k],null,null),t.ob(6,16384,null,0,u.g,[[2,u.gb],u.Gb],null,null),(n()(),t.gb(16777216,null,0,1,null,c)),t.ob(8,16384,null,0,i.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.pb(9,0,null,0,2,"ion-title",[],null,null,null,o.Cb,o.N)),t.ob(10,49152,null,0,u.yb,[t.h,t.k],null,null),(n()(),t.Hb(11,0,[" "," "])),(n()(),t.pb(12,0,null,0,11,"ion-buttons",[["slot","end"]],null,null,null,o.U,o.f)),t.ob(13,49152,null,0,u.k,[t.h,t.k],null,null),(n()(),t.gb(16777216,null,0,1,null,a)),t.ob(15,16384,null,0,i.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.gb(16777216,null,0,1,null,s)),t.ob(17,16384,null,0,i.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.gb(16777216,null,0,1,null,p)),t.ob(19,16384,null,0,i.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.gb(16777216,null,0,1,null,d)),t.ob(21,16384,null,0,i.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.gb(16777216,null,0,1,null,f)),t.ob(23,16384,null,0,i.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,1,0,e.a.environment.themeColor),n(l,8,0,e.showLogo),n(l,15,0,e.id&&e.a.loggedIn),n(l,17,0,e.a.loggedIn),n(l,19,0,e.a.isMobile),n(l,21,0,e.a.isDesktop&&e.a.loggedOut),n(l,23,0,e.a.isDesktop&&e.a.loggedOut)},function(n,l){n(l,11,0,l.component.title)})}},dWdc:function(n,l,e){"use strict";var t=e("CcnG"),o=e("oBZk"),u=e("ZZ/e"),i=e("Ip0R");e("8cXe"),e("Pn9U"),e("gRf5"),e("7lBf"),e("InIh"),e.d(l,"a",function(){return r}),e.d(l,"b",function(){return f});var r=t.nb({encapsulation:0,styles:[[".file-uploaded[_ngcontent-%COMP%]{position:relative;margin:.25em 0 0 .25em;width:32%;height:100px;overflow:hidden;background-position:center;background-size:cover;background-repeat:no-repeat!important}.file-uploaded[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin:.2em;font-size:1.5em;color:red}"]],data:{}});function c(n){return t.Jb(0,[(n()(),t.pb(0,0,null,null,2,"div",[["class","file-uploaded"]],[[4,"background-image",null]],null,null,null,null)),(n()(),t.pb(1,0,null,null,1,"ion-icon",[["name","close-circle"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onClickDelete(n.context.$implicit)&&t),t},o.cb,o.n)),t.ob(2,49152,null,0,u.B,[t.h,t.k],{name:[0,"name"]},null)],function(n,l){n(l,2,0,"close-circle")},function(n,l){n(l,0,0,"url("+l.context.$implicit.src+")")})}function a(n){return t.Jb(0,[(n()(),t.pb(0,0,null,null,3,"div",[["class","display-files"]],null,null,null,null,null)),(n()(),t.pb(1,0,null,null,2,"div",[["class","files"],["style","display: flex; flex-flow: wrap;"]],null,null,null,null,null)),(n()(),t.gb(16777216,null,null,1,null,c)),t.ob(3,278528,null,0,i.i,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,3,0,l.component.files)},null)}function s(n){return t.Jb(0,[(n()(),t.pb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),t.pb(1,0,null,null,1,"div",[["style","background-color: blue; color: blue;"]],[[4,"width",null]],null,null,null,null)),(n()(),t.Hb(-1,null,["."]))],null,function(n,l){n(l,1,0,l.component.uploadPercentage+"%")})}function p(n){return t.Jb(0,[(n()(),t.pb(0,0,null,null,0,"input",[["name","file"],["style","position: absolute; top: 0; right: 0; left: 0; bottom: 0; font-size: 10em; opacity: 0.4; overflow: hidden;"],["type","file"]],null,[[null,"change"]],function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.webUpload(e)&&t),t},null,null))],null,null)}function d(n){return t.Jb(0,[(n()(),t.pb(0,0,null,null,6,"div",[["style","position: relative; display: inline-block; overflow: hidden; background-color: grey;"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.cordovaUpload()&&t),t},null,null)),(n()(),t.pb(1,0,null,null,3,"ion-button",[["color","primary"]],null,null,null,o.T,o.e)),t.ob(2,49152,null,0,u.j,[t.h,t.k],{color:[0,"color"]},null),(n()(),t.pb(3,0,null,0,1,"ion-icon",[["name","camera"],["slot","icon-only"]],null,null,null,o.cb,o.n)),t.ob(4,49152,null,0,u.B,[t.h,t.k],{name:[0,"name"]},null),(n()(),t.gb(16777216,null,null,1,null,p)),t.ob(6,16384,null,0,i.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,2,0,"primary"),n(l,4,0,"camera"),n(l,6,0,e.pc.isWeb)},null)}function f(n){return t.Jb(0,[(n()(),t.gb(16777216,null,null,1,null,a)),t.ob(1,16384,null,0,i.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.gb(16777216,null,null,1,null,s)),t.ob(3,16384,null,0,i.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.gb(16777216,null,null,1,null,d)),t.ob(5,16384,null,0,i.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,1,0,e.files&&e.files.length&&e.displayFiles),n(l,3,0,e.uploadPercentage&&e.displayProgressBar),n(l,5,0,e.displayUploadButton)},null)}}}]);